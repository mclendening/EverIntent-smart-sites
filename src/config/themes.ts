/**
 * Static Theme Configuration
 * 
 * This file is the PRODUCTION source of truth for themes.
 * It is generated by the admin "Publish to Production" workflow.
 * 
 * DO NOT edit this file manually - use the admin theme editor
 * and click "Publish to Production" to regenerate.
 * 
 * SSG Compatible: This file is imported statically, ensuring
 * zero runtime DB calls and no theme flash on page load.
 * 
 * @generated 2024-12-21
 */

export interface ThemeConfig {
  id: string;
  name: string;
  baseHue: number;
  accentConfig: {
    accent: string;
    accentHover: string;
    accentGlow: string;
    accentForeground: string;
    h: number;
    s: number;
    l: number;
  };
  staticColors: {
    background: string;
    foreground: string;
    card: string;
    cardForeground: string;
    popover: string;
    popoverForeground: string;
    primary: string;
    primaryLight: string;
    primaryForeground: string;
    secondary: string;
    secondaryForeground: string;
    muted: string;
    mutedForeground: string;
    border: string;
    input: string;
    ring: string;
  };
  gradientConfigs: {
    hero: string;
    cta: string;
    text: string;
  };
  logoVersionId?: string;
}

export interface RouteThemeMapping {
  route: string;
  themeId: string;
}

// ============================================
// ACTIVE PRODUCTION THEME (Golden Amber Dark)
// ============================================
export const activeTheme: ThemeConfig = {
  id: 'golden-amber',
  name: 'Golden Amber',
  baseHue: 38,
  accentConfig: {
    accent: '38 92% 50%',
    accentHover: '32 95% 44%',
    accentGlow: '38 92% 50%',
    accentForeground: '222 47% 11%',
    h: 38,
    s: 92,
    l: 50,
  },
  staticColors: {
    background: '222 47% 7%',
    foreground: '60 9% 98%',
    card: '222 47% 10%',
    cardForeground: '60 9% 98%',
    popover: '222 47% 10%',
    popoverForeground: '60 9% 98%',
    primary: '215 25% 27%',
    primaryLight: '215 20% 40%',
    primaryForeground: '0 0% 100%',
    secondary: '222 47% 12%',
    secondaryForeground: '60 9% 98%',
    muted: '222 47% 15%',
    mutedForeground: '215 16% 65%',
    border: '215 25% 20%',
    input: '215 25% 20%',
    ring: '38 92% 50%',
  },
  gradientConfigs: {
    hero: 'linear-gradient(135deg, hsl(222 47% 7%) 0%, hsl(222 47% 12%) 50%, hsl(222 47% 7%) 100%)',
    cta: 'linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(32 95% 44%) 100%)',
    text: 'linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(45 93% 58%) 50%, hsl(38 92% 50%) 100%)',
  },
};

// ============================================
// ROUTE-TO-THEME MAPPINGS
// ============================================
// These define which theme applies to which top-level route.
// Routes not listed here use the activeTheme.
export const routeThemeMappings: RouteThemeMapping[] = [
  // Example: { route: '/services', themeId: 'ocean-blue' },
  // Example: { route: '/about', themeId: 'emerald-green' },
];

// ============================================
// ALL PUBLISHED THEMES
// ============================================
// Additional themes available for route-specific overrides.
// The activeTheme is always included.
export const publishedThemes: Record<string, ThemeConfig> = {
  'golden-amber': activeTheme,
  // Additional themes will be added here when published
};

// ============================================
// HELPER FUNCTIONS
// ============================================

/**
 * Get the theme for a specific route.
 * Falls back to activeTheme if no mapping exists.
 */
export function getThemeForRoute(pathname: string): ThemeConfig {
  // Extract top-level route (e.g., '/services/web-design' -> '/services')
  const topLevel = '/' + (pathname.split('/')[1] || '');
  
  const mapping = routeThemeMappings.find(m => m.route === topLevel);
  if (mapping && publishedThemes[mapping.themeId]) {
    return publishedThemes[mapping.themeId];
  }
  
  return activeTheme;
}

/**
 * Apply a theme's CSS variables to the document root.
 * Used for dynamic route-based theme switching (client-side only).
 */
export function applyThemeToRoot(theme: ThemeConfig): void {
  const root = document.documentElement;
  
  // Apply static colors
  Object.entries(theme.staticColors).forEach(([key, value]) => {
    const cssVar = key.replace(/([A-Z])/g, '-$1').toLowerCase();
    root.style.setProperty(`--${cssVar}`, value);
  });
  
  // Apply accent colors
  root.style.setProperty('--accent', theme.accentConfig.accent);
  root.style.setProperty('--accent-hover', theme.accentConfig.accentHover);
  root.style.setProperty('--accent-glow', theme.accentConfig.accentGlow);
  root.style.setProperty('--accent-foreground', theme.accentConfig.accentForeground);
  
  // Apply gradients
  root.style.setProperty('--gradient-hero', theme.gradientConfigs.hero);
  root.style.setProperty('--gradient-cta', theme.gradientConfigs.cta);
  root.style.setProperty('--gradient-text', theme.gradientConfigs.text);
}
